(this["webpackJsonpgoit-react-hw-05-phonebook"]=this["webpackJsonpgoit-react-hw-05-phonebook"]||[]).push([[1],{13:function(e,t,n){"use strict";var r=n(4),a=Object(r.b)("/contacts/addRequest"),c=Object(r.b)("/contacts/addSuccess"),o=Object(r.b)("/contacts/addError"),u=Object(r.b)("/contacts/fetchRequest"),i=Object(r.b)("/contacts/fetchSuccess"),s=Object(r.b)("/contacts/fetchError"),l=Object(r.b)("/contacts/removeRequest"),b=Object(r.b)("/contacts/removeSuccess"),g=Object(r.b)("/contacts/removeError"),h=Object(r.b)("contacts/changeFilter");t.a={addContactsRequest:a,addContactsSuccess:c,addContactsError:o,fetchContactsRequest:u,fetchContactsSuccess:i,fetchContactsError:s,removeContactsRequest:l,removeContactsSuccess:b,removeContactsError:g,changeFilter:h}},144:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),c=n(9),o=n.n(c),u=n(16),i=n(79),s=n(45),l=n(46),b=n(47),g=n(48),h=Object(r.createContext)(),d=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(){var e;Object(s.a)(this,n);for(var r=arguments.length,a=new Array(r),c=0;c<r;c++)a[c]=arguments[c];return(e=t.call.apply(t,[this].concat(a))).toggleTheme=function(){e.setState({type:"dark"===e.state.type?"light":"dark"})},e.state={type:"light",themeConfig:{light:{fontColor:"black",bodybg:"#e3f2fd"},dark:{fontColor:"white",bodybg:"#2962ff"}},toggleTheme:e.toggleTheme},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){var e=localStorage.getItem("theme");e&&this.setState({type:JSON.parse(e)})}},{key:"componentDidUpdate",value:function(e,t){t.type!==this.state.type&&localStorage.setItem("theme",JSON.stringify(this.state.type))}},{key:"render",value:function(){return a.a.createElement(h.Provider,{value:this.state},this.props.children)}}]),n}(r.Component);d.Consumer=h.Consumer;var m=n(22),f=n(32),p=n(182),E=function(e){return function(t){return a.a.createElement(d.Consumer,null,(function(n){return a.a.createElement(e,Object.assign({},t,{theme:n}))}))}},O=n(18),j=n(87),v=E((function(e){var t=e.theme;return a.a.createElement("button",{className:"MuiButtonBase-root MuiIconButton-root MuiIconButton-colorInherit",type:"button",title:"Change theme",checked:"dark"===t.type,onClick:function(){return t.toggleTheme()}},a.a.createElement("span",{className:"MuiIconButton-label"},a.a.createElement("svg",{className:"MuiSvgIcon-root",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true"},a.a.createElement("path",{d:"M20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69zM12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6c3.31 0 6 2.69 6 6s-2.69 6-6 6z"}))),a.a.createElement("span",{className:"MuiTouchRipple-root"}))})),y=n(175),C=n(39),k=n.n(C),S=Object(u.b)((function(e){return{isAuthenticated:O.b.isAuthenticated(e)}}))((function(e){var t=e.isAuthenticated;return a.a.createElement("nav",{className:k.a.container},a.a.createElement(m.b,{to:"/",exact:!0,className:k.a.link,activeClassName:k.a.activeLink},a.a.createElement("svg",{className:"umbrella",width:"24",height:"24",viewBox:"0 0 24 24","aria-labelledby":"goHomePage"},a.a.createElement("title",{id:"homeIcon"},"Home"),a.a.createElement("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}))),t&&a.a.createElement(a.a.Fragment,null,a.a.createElement(y.a,null),a.a.createElement(m.b,{to:"/contacts",exact:!0,className:k.a.link,activeClassName:k.a.activeLink},"Contacts")))})),x=n(179),A=n(59),_=n.n(A),N=Object(u.b)((function(e){return{name:O.b.getUserName(e)}}),{onLogout:O.a.logout})((function(e){var t=e.name,n=e.onLogout;return a.a.createElement("div",{className:_.a.container},a.a.createElement("p",{className:_.a.name},"Welcome, ",t),a.a.createElement(x.a,{edge:"start",color:"inherit","aria-label":"menu",title:"Logout",onClick:n},a.a.createElement("svg",{width:"24",height:"24",viewBox:"0 0 24 24"},a.a.createElement("path",{fill:"currentColor",d:"M16,17V14H9V10H16V7L21,12L16,17M14,2A2,2 0 0,1 16,4V6H14V4H5V20H14V18H16V20A2,2 0 0,1 14,22H5A2,2 0 0,1 3,20V4A2,2 0 0,1 5,2H14Z"}))))})),R={link:{display:"inline-block",textDecoration:"none",padding:12,fontWeight:700,color:"#2A363B"},activeLink:{color:"#E84A5F"}},U=function(){return a.a.createElement("div",null,a.a.createElement(m.b,{to:"/register",exact:!0,style:R.link,activeStyle:R.activeLink},"Register"),a.a.createElement(m.b,{to:"/login",exact:!0,style:R.link,activeStyle:R.activeLink},"Login"))},L=n(180),q=n(181),w=n(82),M=n.n(w),B=n(150),T=n(184),H=n(81),V=n.n(H),z=Object(u.b)((function(e){return{isAuthenticated:O.b.isAuthenticated(e)}}))((function(e){var t=e.isAuthenticated,n=a.a.useState(null),r=Object(j.a)(n,2),c=r[0],o=r[1];return a.a.createElement("div",null,a.a.createElement(L.a,{position:"static"},a.a.createElement(q.a,{className:V.a.container},a.a.createElement(x.a,{edge:"start",color:"inherit",title:"Menu","aria-label":"menu",onClick:function(e){o(e.currentTarget)}},a.a.createElement(M.a,null)),a.a.createElement(B.a,{anchorEl:c,keepMounted:!0,open:Boolean(c),onClose:function(){o(null)}},a.a.createElement(T.a,null,a.a.createElement(S,null))),a.a.createElement("div",{style:{display:"flex"}},a.a.createElement(v,null),t?a.a.createElement(N,null):a.a.createElement(U,null)))))})),I=n(83),F=n.n(I),J=function(e){var t=e.children;return a.a.createElement("div",{className:F.a.container},a.a.createElement(z,null),t)},P=[{path:"/",label:"Home",exact:!0,component:Object(r.lazy)((function(){return n.e(7).then(n.bind(null,213))})),private:!1,restricted:!1},{path:"/register",label:"Register",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(6)]).then(n.bind(null,214))})),private:!1,restricted:!0},{path:"/login",label:"Login",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(5)]).then(n.bind(null,215))})),private:!1,restricted:!0},{path:"/contacts",label:"Contacts",exact:!0,component:Object(r.lazy)((function(){return Promise.all([n.e(0),n.e(4)]).then(n.bind(null,217))})),private:!0,restricted:!1}],D=n(55),G=Object(u.b)((function(e){return{isAuthenticated:O.b.isAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=Object(D.a)(e,["component","isAuthenticated"]);return a.a.createElement(f.b,Object.assign({},r,{render:function(e){return n&&r.restricted?a.a.createElement(f.a,{to:"/contacts"}):a.a.createElement(t,e)}}))})),W=Object(u.b)((function(e){return{isAuthenticated:O.b.isAuthenticated(e)}}))((function(e){var t=e.component,n=e.isAuthenticated,r=Object(D.a)(e,["component","isAuthenticated"]);return a.a.createElement(f.b,Object.assign({},r,{render:function(e){return n?a.a.createElement(t,e):a.a.createElement(f.a,{to:"/login"})}}))})),Q=n(84),X=n.n(Q),Z=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.props.onGetCurrentUser()}},{key:"render",value:function(){var e=this.props.theme,t=e.themeConfig,n=e.type;return a.a.createElement("div",{style:{color:t[n].fontColor,background:t[n].bodybg,height:"100vh"}},a.a.createElement(m.a,null,a.a.createElement(p.a,null),a.a.createElement(J,null,a.a.createElement(r.Suspense,{fallback:a.a.createElement(X.a,{type:"Oval",color:"#00BFFF",height:50,width:50,style:{position:"absolute",left:"50%",top:"90px"}})},a.a.createElement(f.d,null,P.map((function(e){return e.private?a.a.createElement(W,Object.assign({key:e.label},e)):a.a.createElement(G,Object.assign({key:e.label},e))})))))))}}]),n}(r.Component),K={onGetCurrentUser:O.a.getCurrentUser},Y=E(Object(u.b)(null,K)(Z)),$=n(4),ee=n(29),te=n(85),ne=n.n(te),re=n(62),ae=n(49),ce={key:"auth",storage:ne.a,whitelist:["token"]},oe=Object($.a)({reducer:{contacts:re.a,auth:Object(ee.g)(ce,ae.a)},middleware:Object($.d)({serializableCheck:{ignoredActions:[ee.a,ee.f,ee.b,ee.c,ee.d,ee.e]}})}),ue=Object(ee.h)(oe);n(144);o.a.render(a.a.createElement(u.a,{store:oe},a.a.createElement(i.a,{loading:null,persistor:ue},a.a.createElement(d,null,a.a.createElement(Y,null)))),document.getElementById("root"))},18:function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return b}));var r=n(8),a=n(28),c=n.n(a),o=n(41),u=n(42),i=function(e){c.a.defaults.headers.common.Authorization="Bearer ".concat(e)},s=function(){c.a.defaults.headers.common.Authorization=""};c.a.defaults.baseURL="https://goit-phonebook-api.herokuapp.com",c.a.defaults.headers.post["Content-Type"]="application/json";var l={register:function(e){return function(t){t(r.a.registerRequest()),c.a.post("/users/signup",e).then((function(e){i(e.data.token),t(r.a.registerSuccess(e.data))})).catch((function(e){Object(u.a)(Object(o.a)("registerErr")),t(r.a.registerError(e.message))}))}},login:function(e){return function(t){t(r.a.loginRequest()),c.a.post("/users/login",e).then((function(e){i(e.data.token),t(r.a.loginSuccess(e.data))})).catch((function(e){Object(u.a)(Object(o.a)("loginErr")),t(r.a.loginError(e.message))}))}},logout:function(){return function(e){e(r.a.logoutRequest()),c.a.post("/users/logout").then((function(t){s(),e(r.a.logoutSuccess(t.data))})).catch((function(t){t.message=Object(u.a)(Object(o.a)("logoutTokenErr")),e(r.a.logoutError(t.message))}))}},getCurrentUser:function(){return function(e,t){var n=t().auth.token;n&&(i(n),e(r.a.getCurrentUserRequest()),c.a.get("/users/current").then((function(t){return e(r.a.getCurrentUserSuccess(t.data))})).catch((function(t){Object(u.a)(Object(o.a)("getUserErr")),e(r.a.getCurrentUserError(t.message))})))}}},b={isAuthenticated:function(e){return e.auth.token},getUserName:function(e){return e.auth.user.name},getError:function(e){return e.auth.error}};n(49)},39:function(e,t,n){e.exports={container:"Navigation_container__3p17L",link:"Navigation_link__u24JR",activeLink:"Navigation_activeLink__3Tp2e"}},41:function(e,t,n){"use strict";n.d(t,"a",(function(){return a}));var r=[{type:"registerErr",text:"User creation error"},{type:"loginErr",text:"Login error"},{type:"logoutTokenErr",text:"No token header"},{type:"logoutServerErr",text:"Server error"},{type:"getUserErr",text:"No token header"},{type:"deleteUserTokenErr",text:"No token header"},{type:"deleteUserServerErr",text:"Server error"},{type:"getContactsTokenErr",text:"No token header"},{type:"getContactsErr",text:"The collection of such an owner does not exist"},{type:"getContactsServerErr",text:"Server error"},{type:"postContactErr",text:"Error creating contact"},{type:"postContactTokenErr",text:"No token header"},{type:"deleteContactTokenErr",text:"No token header"},{type:"deleteContactErr",text:"The collection of such an owner does not exist"},{type:"deleteContactServerErr",text:"Server error"}],a=function(e){return r.find((function(t){return t.type===e})).text}},42:function(e,t,n){"use strict";var r=n(73),a=n.n(r);t.a=function(e){a.a.fire({icon:"error",title:"Oops...",text:e})}},49:function(e,t,n){"use strict";var r,a,c,o=n(6),u=n(11),i=n(4),s=n(8),l={name:null,email:null},b=Object(i.c)(l,(r={},Object(o.a)(r,s.a.registerSuccess,(function(e,t){return t.payload.user})),Object(o.a)(r,s.a.loginSuccess,(function(e,t){return t.payload.user})),Object(o.a)(r,s.a.logoutSuccess,(function(){return l})),Object(o.a)(r,s.a.getCurrentUserSuccess,(function(e,t){return t.payload})),r)),g=Object(i.c)(null,(a={},Object(o.a)(a,s.a.registerSuccess,(function(e,t){return t.payload.token})),Object(o.a)(a,s.a.loginSuccess,(function(e,t){return t.payload.token})),Object(o.a)(a,s.a.logoutSuccess,(function(){return null})),a)),h=Object(i.c)(null,(c={},Object(o.a)(c,s.a.registerError,(function(e,t){return t.payload})),Object(o.a)(c,s.a.loginError,(function(e,t){return t.payload})),Object(o.a)(c,s.a.logoutError,(function(e,t){return t.payload})),Object(o.a)(c,s.a.getCurrentUserError,(function(e,t){return t.payload})),c));t.a=Object(u.c)({user:b,token:g,error:h})},59:function(e,t,n){e.exports={container:"UserMenu_container__tkQ__",name:"UserMenu_name__HADu6"}},62:function(e,t,n){"use strict";var r,a,c,o=n(6),u=n(86),i=n(11),s=n(4),l=n(13),b=Object(s.c)([],(r={},Object(o.a)(r,l.a.fetchContactsSuccess,(function(e,t){return t.payload})),Object(o.a)(r,l.a.addContactsSuccess,(function(e,t){return[].concat(Object(u.a)(e),[t.payload])})),Object(o.a)(r,l.a.removeContactsSuccess,(function(e,t){var n=t.payload;return e.filter((function(e){return e.id!==n}))})),r)),g=Object(s.c)("",Object(o.a)({},l.a.changeFilter,(function(e,t){return t.payload}))),h=Object(s.c)(null,(a={},Object(o.a)(a,l.a.fetchError,(function(e,t){return t.payload})),Object(o.a)(a,l.a.addError,(function(e,t){return t.payload})),Object(o.a)(a,l.a.removeError,(function(e,t){return t.payload})),a)),d=Object(s.c)(!1,(c={},Object(o.a)(c,l.a.fetchContactsRequest,(function(){return!0})),Object(o.a)(c,l.a.fetchContactsSuccess,(function(){return!1})),Object(o.a)(c,l.a.fetchContactsError,(function(){return!1})),Object(o.a)(c,l.a.addContactsRequest,(function(){return!0})),Object(o.a)(c,l.a.addContactsSuccess,(function(){return!1})),Object(o.a)(c,l.a.addContactsError,(function(){return!1})),Object(o.a)(c,l.a.removeContactsRequest,(function(){return!0})),Object(o.a)(c,l.a.removeContactsSuccess,(function(){return!1})),Object(o.a)(c,l.a.removeContactsError,(function(){return!1})),c));t.a=Object(i.c)({items:b,filter:g,error:h,loading:d})},8:function(e,t,n){"use strict";var r=n(4),a=Object(r.b)("/auth/registerRequest"),c=Object(r.b)("./auth/registerSuccess"),o=Object(r.b)("./auth/registerError"),u=Object(r.b)("./auth/loginRequest"),i=Object(r.b)("./auth/loginSuccess"),s=Object(r.b)(".auth/loginError"),l=Object(r.b)("./auth/logoutRequest"),b=Object(r.b)("./auth/logoutSuccess"),g=Object(r.b)("./auth/logoutError"),h=Object(r.b)("./auth/getCurrentUserRequest"),d=Object(r.b)("./auth/getCurrentUserSuccess"),m=Object(r.b)("./auth/getCurrentUserError");t.a={registerRequest:a,registerSuccess:c,registerError:o,loginRequest:u,loginSuccess:i,loginError:s,logoutRequest:l,logoutSuccess:b,logoutError:g,getCurrentUserRequest:h,getCurrentUserSuccess:d,getCurrentUserError:m}},81:function(e,t,n){e.exports={container:"AppBar_container__3pXrs",navigation:"AppBar_navigation__JVwxM","right-container":"AppBar_right-container__ugbwk"}},83:function(e,t,n){e.exports={container:"Layout_container__2c0-P"}},95:function(e,t,n){e.exports=n(145)}},[[95,2,3]]]);
//# sourceMappingURL=main.5e516996.chunk.js.map